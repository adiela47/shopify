<div id="primary" class="content-area">
  <div class="page-header home animated fadeIn"><div class="row"></div></div>
  <div id="content" class="site-content">
    <div class="page">
      {%- assign team_members = false -%}
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'introduction' -%}
            <div class="page-width" style="background-color:{{ block.settings.background }}">
              {%- if block.settings.image and block.settings.image_position == 'left' -%}
              <div class="column-container small-12 large-6 float-{{ block.settings.image_position }}">
                <div class="column-inner" style="background-image:url({{ block.settings.image | img_url:'master' }});">
                  <div class="empty_space" style="height:{{ block.settings.image_height | default:500 | plus:0 }}px;"><span class="empty_space_inner"></span></div>
                </div>
              </div>
              {%- endif -%}

              <div class="column-container{% if block.settings.image %} small-12 large-6 float-left{% endif %}">
                <div class="row">
                  <div class="large-12 columns">
                    <div class="empty_space" style="height:80px"><span class="empty_space_inner"></span></div>
                    {%- if block.settings.heading != blank -%}
                    <h2 class="heading" style="color:{{ block.settings.heading_color }}">{{ block.settings.heading }}</h2>
                    {%- endif -%}

                    {%- if block.settings.subheading != blank -%}
                    <h4 class="subheading" style="color:{{ block.settings.subheading_color }};background-color:{{ block.settings.background }}">{{ block.settings.subheading }}</h4>
                    {%- endif -%}

                    {%- if block.settings.content != blank -%}
                    <div class="content">{{ block.settings.content }}</div>
                    {%- endif -%}

                    <div class="empty_space" style="height:80px"><span class="empty_space_inner"></span></div>
                  </div>
                </div>
              </div>

              {%- if block.settings.image and block.settings.image_position == 'right' -%}
              <div class="column-container small-12 large-6 float-{{ block.settings.image_position }}">
                <div class="column-inner" style="background-image:url({{ block.settings.image | img_url:'master' }});">
                  <div class="empty_space" style="height:{{ block.settings.image_height | default:500 | plus:0 }}px;"><span class="empty_space_inner"></span></div>
                </div>
              </div>
              {%- endif -%}
            </div>
          {%- when 'team' -%}
            {%- if team_members == false -%}
            <div class="teams clearfix">
              <div class="empty_space" style="height:80px"><span class="empty_space_inner"></span></div>
              {%- if block.settings.heading != blank -%}
              <h2 class="heading">{{ block.settings.heading }}</h2>
              {%- endif -%}

              {%- if block.settings.subheading != blank -%}
              <h5 class="subheading">{{ block.settings.subheading }}</h5>
              {%- endif -%}
              <div class="empty_space" style="height:40px"><span class="empty_space_inner"></span></div>

              <div class="members clearfix">
                <div class="small-12 large-2 columns"><div class="empty_space" style="height:1px"><span class="empty_space_inner"></span></div></div>
                <div class="small-12 large-8 columns">
                  {%- for team in section.blocks -%}
                    {%- if team.type == 'member' -%}
                    <div class="small-12 large-4 columns member">
                      {%- if team.settings.image -%}
                      <div class="figure">
                        <img src="{{ team.settings.image | img_url:'340x' }}" alt="{{ team.settings.heading }}" />
                      </div>
                      {%- endif -%}
                      
                      {%- if team.settings.heading != blank -%}
                      <h3 class="name">{{ team.settings.heading }}</h3>
                      {%- endif -%}
                      
                      {%- if team.settings.subheading != blank -%}
                      <h5 class="position">{{ team.settings.subheading }}</h5>
                      {%- endif -%}
                    </div>
                    {%- endif -%}
                  {%- endfor -%}
                </div>
                <div class="small-12 large-2 columns"><div class="empty_space" style="height:1px"><span class="empty_space_inner"></span></div></div>
              </div>
              <div class="empty_space" style="height:20px"><span class="empty_space_inner"></span></div>

              {%- assign team_members = true -%}
            </div>
            {%- endif -%}
        {%- endcase -%}
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "About Us page",
    "blocks": [
      {
        "type": "introduction",
        "name": "Introduction",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "image_height",
            "label": "Image Height",
            "default": "500"
          },
          {
            "type": "select",
            "id": "image_position",
            "label": "Image Position",
            "default": "left",
            "options": [
              {
                "label": "Left",
                "value": "left"
              },
              {
                "label": "Right",
                "value": "right"
              }
            ]
          },
          {
            "type": "color",
            "id": "background",
            "label": "Background",
            "default": "#f3f3f3"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "01"
          },
          {
            "type": "color",
            "id": "heading_color",
            "label": "Heading Color",
            "default": "#ffffff"
          },
          {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "WHO WE ARE"
          },
          {
            "type": "color",
            "id": "subheading_color",
            "label": "Subheading Color",
            "default": "#000000"
          },
          {
            "type": "html",
            "id": "content",
            "label": "Content",
            "default": "Tell your brand's story through video and images"
          },
          {
            "type": "color",
            "id": "content_color",
            "label": "Content Color",
            "default": "#000000"
          }
        ]
      },
      {
        "type": "team",
        "name": "Team Members",
        "settings": [
          {
            "type": "paragraph",
            "content": "You should have only 1 this block."
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "MEET OUR TEAM"
          },
          {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "THE RIGHT PEOPLE FOR YOUR PROJECT"
          }
        ]
      },
      {
        "type": "member",
        "name": "Member",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Name"
          },
          {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "Position"
          }
        ]
      }
    ]
  }
{% endschema %}